<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="298px" preserveAspectRatio="none" style="width:554px;height:298px;" version="1.1" viewBox="0 0 554 298" width="554px" zoomAndPan="magnify"><defs><filter height="300%" id="f1h2ymdb4ndcr1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Flyweight--><rect fill="#FEFECE" filter="url(#f1h2ymdb4ndcr1)" height="52.9551" id="Flyweight" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="246.5" y="8"/><ellipse cx="278.15" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M274.5777,20.2651 L274.5777,18.1069 L281.9571,18.1069 L281.9571,20.2651 L279.4918,20.2651 L279.4918,28.3418 L281.9571,28.3418 L281.9571,30.5 L274.5777,30.5 L274.5777,28.3418 L277.0431,28.3418 L277.0431,20.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="295.85" y="28.5352">Flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="366.5" y1="40" y2="40"/><ellipse cx="257.5" cy="51.9775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95" x="266.5" y="54.6348">do(extrinsicState)</text><!--class FlyweightFactory--><rect fill="#FEFECE" filter="url(#f1h2ymdb4ndcr1)" height="73.9102" id="FlyweightFactory" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="6" y="121"/><ellipse cx="57.25" cy="137" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M59.7231,143.1431 Q59.1421,143.4419 58.5029,143.5913 Q57.8638,143.7407 57.1582,143.7407 Q54.6514,143.7407 53.3315,142.0889 Q52.0117,140.437 52.0117,137.3159 Q52.0117,134.1865 53.3315,132.5347 Q54.6514,130.8828 57.1582,130.8828 Q57.8638,130.8828 58.5112,131.0322 Q59.1587,131.1816 59.7231,131.4805 L59.7231,134.2031 Q59.0923,133.6221 58.4988,133.3523 Q57.9053,133.0825 57.2744,133.0825 Q55.9297,133.0825 55.2449,134.1492 Q54.5601,135.2158 54.5601,137.3159 Q54.5601,139.4077 55.2449,140.4744 Q55.9297,141.541 57.2744,141.541 Q57.9053,141.541 58.4988,141.2712 Q59.0923,141.0015 59.7231,140.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="77.75" y="141.5352">FlyweightFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="209" y1="153" y2="153"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="161.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="26" y="167.6348">flyweights : Map&lt;Key, Flyweight&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="209" y1="173.9551" y2="173.9551"/><ellipse cx="17" cy="185.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="26" y="188.5898">getFlyweight(Key) : Flyweight</text><!--class SharedFlyweight--><rect fill="#FEFECE" filter="url(#f1h2ymdb4ndcr1)" height="73.9102" id="SharedFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="245" y="121"/><ellipse cx="260" cy="137" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M262.4731,143.1431 Q261.8921,143.4419 261.2529,143.5913 Q260.6138,143.7407 259.9082,143.7407 Q257.4014,143.7407 256.0815,142.0889 Q254.7617,140.437 254.7617,137.3159 Q254.7617,134.1865 256.0815,132.5347 Q257.4014,130.8828 259.9082,130.8828 Q260.6138,130.8828 261.2612,131.0322 Q261.9087,131.1816 262.4731,131.4805 L262.4731,134.2031 Q261.8423,133.6221 261.2488,133.3523 Q260.6553,133.0825 260.0244,133.0825 Q258.6797,133.0825 257.9949,134.1492 Q257.3101,135.2158 257.3101,137.3159 Q257.3101,139.4077 257.9949,140.4744 Q258.6797,141.541 260.0244,141.541 Q260.6553,141.541 261.2488,141.2712 Q261.8423,141.0015 262.4731,140.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="274" y="141.5352">SharedFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="368" y1="153" y2="153"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="253" y="161.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="265" y="167.6348">intrinsicState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="368" y1="173.9551" y2="173.9551"/><ellipse cx="256" cy="185.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="265" y="188.5898">do(extrinsicState)</text><!--class UnsharedFlyweight--><rect fill="#FEFECE" filter="url(#f1h2ymdb4ndcr1)" height="73.9102" id="UnsharedFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="404.5" y="121"/><ellipse cx="419.5" cy="137" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M421.9731,143.1431 Q421.3921,143.4419 420.7529,143.5913 Q420.1138,143.7407 419.4082,143.7407 Q416.9014,143.7407 415.5815,142.0889 Q414.2617,140.437 414.2617,137.3159 Q414.2617,134.1865 415.5815,132.5347 Q416.9014,130.8828 419.4082,130.8828 Q420.1138,130.8828 420.7612,131.0322 Q421.4087,131.1816 421.9731,131.4805 L421.9731,134.2031 Q421.3423,133.6221 420.7488,133.3523 Q420.1553,133.0825 419.5244,133.0825 Q418.1797,133.0825 417.4949,134.1492 Q416.8101,135.2158 416.8101,137.3159 Q416.8101,139.4077 417.4949,140.4744 Q418.1797,141.541 419.5244,141.541 Q420.1553,141.541 420.7488,141.2712 Q421.3423,141.0015 421.9731,140.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="433.5" y="141.5352">UnsharedFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="405.5" x2="542.5" y1="153" y2="153"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="412.5" y="161.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="424.5" y="167.6348">allState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="405.5" x2="542.5" y1="173.9551" y2="173.9551"/><ellipse cx="415.5" cy="185.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="424.5" y="188.5898">do(extrinsicState)</text><!--class Client--><rect fill="#FEFECE" filter="url(#f1h2ymdb4ndcr1)" height="32" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="275" y="255"/><ellipse cx="290" cy="271" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292.4731,277.1431 Q291.8921,277.4419 291.2529,277.5913 Q290.6138,277.7407 289.9082,277.7407 Q287.4014,277.7407 286.0815,276.0889 Q284.7617,274.437 284.7617,271.3159 Q284.7617,268.1865 286.0815,266.5347 Q287.4014,264.8828 289.9082,264.8828 Q290.6138,264.8828 291.2612,265.0322 Q291.9087,265.1816 292.4731,265.4805 L292.4731,268.2031 Q291.8423,267.6221 291.2488,267.3523 Q290.6553,267.0825 290.0244,267.0825 Q288.6797,267.0825 287.9949,268.1492 Q287.3101,269.2158 287.3101,271.3159 Q287.3101,273.4077 287.9949,274.4744 Q288.6797,275.541 290.0244,275.541 Q290.6553,275.541 291.2488,275.2712 Q291.8423,275.0015 292.4731,274.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="304" y="275.5352">Client</text><!--link Flyweight to FlyweightFactory--><path d="M252.5314,68.3034 C229.8383,82.3868 203.1847,98.9281 178.9881,113.9446 " fill="none" id="Flyweight-FlyweightFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="167.7023,120.9485,174.9096,121.1833,177.8983,114.6207,170.691,114.3859,167.7023,120.9485" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="263.82,61.2977,254.0637,62.6448,259.5716,63.9343,258.2822,69.4422,263.82,61.2977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259.5716" x2="252.7742" y1="63.9343" y2="68.1528"/><!--link Flyweight to SharedFlyweight--><path d="M307,81.3561 C307,94.454 307,108.5026 307,120.9485 " fill="none" id="Flyweight-SharedFlyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="300.0001,81.2977,307,61.2977,314.0001,81.2976,300.0001,81.2977" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Flyweight to UnsharedFlyweight--><path d="M359.361,73.222 C379.9643,88.4586 403.5199,105.8785 423.898,120.9485 " fill="none" id="Flyweight-UnsharedFlyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="355.1549,78.8178,343.2365,61.2977,363.4792,67.5614,355.1549,78.8178" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FlyweightFactory to Client--><path d="M177.7983,197.6342 C212.4849,217.3306 252.4732,240.0375 278.6632,254.9093 " fill="none" id="FlyweightFactory-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="173.16,195.0004,179.0111,202.9228,177.5079,197.4693,182.9614,195.9662,173.16,195.0004" style="stroke: #A80036; stroke-width: 1.0;"/><!--link SharedFlyweight to Client--><path d="M307,200.2874 C307,219.2749 307,240.5527 307,254.761 " fill="none" id="SharedFlyweight-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="307,195.0004,303,204.0004,307,200.0004,311,204.0004,307,195.0004" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnsharedFlyweight to Client--><path d="M415.0825,197.8664 C386.1501,217.4434 352.8947,239.9455 330.9992,254.761 " fill="none" id="UnsharedFlyweight-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="419.318,195.0004,409.6224,196.7313,415.1769,197.8025,414.1058,203.357,419.318,195.0004" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
Flyweight <- -* FlyweightFactory
Flyweight <|- - SharedFlyweight
Flyweight <|- - UnsharedFlyweight
FlyweightFactory <- - Client
SharedFlyweight <- - Client
UnsharedFlyweight <- - Client

interface Flyweight {
  {abstract} +do(extrinsicState)
}
class SharedFlyweight {
  -intrinsicState
  +do(extrinsicState)
}
class UnsharedFlyweight {
  -allState
  +do(extrinsicState)
}
class FlyweightFactory {
  -flyweights : Map<Key, Flyweight>
  +getFlyweight(Key) : Flyweight
}

hide empty attributes
hide empty methods
@enduml

PlantUML version 1.2019.04(Fri Mar 29 23:44:36 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.14
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>