<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="299px" preserveAspectRatio="none" style="width:602px;height:299px;" version="1.1" viewBox="0 0 602 299" width="602px" zoomAndPan="magnify"><defs><filter height="300%" id="fvk9ryz0t8j9e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class NonDerivableSingleton--><rect fill="#FEFECE" filter="url(#fvk9ryz0t8j9e)" height="86.8652" id="NonDerivableSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="90.5" y="31.5"/><ellipse cx="137.75" cy="47.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M140.2231,53.6431 Q139.6421,53.9419 139.0029,54.0913 Q138.3638,54.2407 137.6582,54.2407 Q135.1514,54.2407 133.8315,52.5889 Q132.5117,50.937 132.5117,47.8159 Q132.5117,44.6865 133.8315,43.0347 Q135.1514,41.3828 137.6582,41.3828 Q138.3638,41.3828 139.0112,41.5322 Q139.6587,41.6816 140.2231,41.9805 L140.2231,44.7031 Q139.5923,44.1221 138.9988,43.8523 Q138.4053,43.5825 137.7744,43.5825 Q136.4297,43.5825 135.7449,44.6492 Q135.0601,45.7158 135.0601,47.8159 Q135.0601,49.9077 135.7449,50.9744 Q136.4297,52.041 137.7744,52.041 Q138.4053,52.041 138.9988,51.7712 Q139.5923,51.5015 140.2231,50.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="129" x="158.25" y="52.0352">NonDerivableSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91.5" x2="321.5" y1="63.5" y2="63.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="98.5" y="72.4775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="181" x="110.5" y="78.1348">instance : NonDerivableSingleton*</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91.5" x2="321.5" y1="84.4551" y2="84.4551"/><ellipse cx="101.5" cy="96.4326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="206" x="110.5" y="99.0898">getInstance() : NonDerivableSingleton*</text><polygon fill="#FFFF44" points="101.5,104.3877,105.5,108.3877,101.5,112.3877,97.5,108.3877" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="110.5" y="112.0449">NonDerivableSingleton()</text><!--class BaseSingleton--><rect fill="#FEFECE" filter="url(#fvk9ryz0t8j9e)" height="133.7305" id="BaseSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="357.5" y="8"/><ellipse cx="431.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M433.7231,30.1431 Q433.1421,30.4419 432.5029,30.5913 Q431.8638,30.7407 431.1582,30.7407 Q428.6514,30.7407 427.3315,29.0889 Q426.0117,27.437 426.0117,24.3159 Q426.0117,21.1865 427.3315,19.5347 Q428.6514,17.8828 431.1582,17.8828 Q431.8638,17.8828 432.5112,18.0322 Q433.1587,18.1816 433.7231,18.4805 L433.7231,21.2031 Q433.0923,20.6221 432.4988,20.3523 Q431.9053,20.0825 431.2744,20.0825 Q429.9297,20.0825 429.2449,21.1492 Q428.5601,22.2158 428.5601,24.3159 Q428.5601,26.4077 429.2449,27.4744 Q429.9297,28.541 431.2744,28.541 Q431.9053,28.541 432.4988,28.2712 Q433.0923,28.0015 433.7231,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="451.75" y="28.5352">BaseSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="358.5" x2="590.5" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="365.5" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="133" x="377.5" y="54.6348">instance : BaseSingleton*</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="365.5" y="61.9326"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="208" x="377.5" y="67.5898">registry : Map&lt;String, BaseSingleton*&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="358.5" x2="590.5" y1="73.9102" y2="73.9102"/><ellipse cx="368.5" cy="85.8877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="158" x="377.5" y="88.5449">getInstance() : BaseSingleton*</text><polygon fill="#FFFF44" points="368.5,93.8428,372.5,97.8428,368.5,101.8428,364.5,97.8428" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="377.5" y="101.5">BaseSingleton()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="358.5" x2="590.5" y1="107.8203" y2="107.8203"/><polygon fill="#FFFF44" points="368.5,114.7979,372.5,118.7979,368.5,122.7979,364.5,118.7979" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="167" x="377.5" y="122.4551">register(String, BaseSingleton*)</text><polygon fill="#FFFF44" points="368.5,127.7529,372.5,131.7529,368.5,135.7529,364.5,131.7529" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="165" x="377.5" y="135.4102">lookup(String) : BaseSingleton*</text><!--class DerivedSingleton--><rect fill="#FEFECE" filter="url(#fvk9ryz0t8j9e)" height="86.8652" id="DerivedSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="374" y="202"/><ellipse cx="422.25" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M424.7231,224.1431 Q424.1421,224.4419 423.5029,224.5913 Q422.8638,224.7407 422.1582,224.7407 Q419.6514,224.7407 418.3315,223.0889 Q417.0117,221.437 417.0117,218.3159 Q417.0117,215.1865 418.3315,213.5347 Q419.6514,211.8828 422.1582,211.8828 Q422.8638,211.8828 423.5112,212.0322 Q424.1587,212.1816 424.7231,212.4805 L424.7231,215.2031 Q424.0923,214.6221 423.4988,214.3523 Q422.9053,214.0825 422.2744,214.0825 Q420.9297,214.0825 420.2449,215.1492 Q419.5601,216.2158 419.5601,218.3159 Q419.5601,220.4077 420.2449,221.4744 Q420.9297,222.541 422.2744,222.541 Q422.9053,222.541 423.4988,222.2712 Q424.0923,222.0015 424.7231,221.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="442.75" y="222.5352">DerivedSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="574" y1="234" y2="234"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="382" y="242.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="145" x="394" y="248.6348">instance : DerivedSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="574" y1="254.9551" y2="254.9551"/><ellipse cx="385" cy="266.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="175" x="394" y="269.5898">getInstance() : DerivedSingleton*</text><polygon fill="#FFFF44" points="385,274.8877,389,278.8877,385,282.8877,381,278.8877" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="394" y="282.5449">DerivedSingleton()</text><path d="M6,217.5 L6,273.4316 A0,0 0 0 0 6,273.4316 L339,273.4316 A0,0 0 0 0 339,273.4316 L339,249.5 L373.7663,245.5 L339,241.5 L339,227.5 L329,217.5 L6,217.5 A0,0 0 0 0 6,217.5 " fill="#FBFB77" filter="url(#fvk9ryz0t8j9e)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M329,217.5 L329,227.5 L339,227.5 L329,217.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="12" y="235.0684">DerivedSingleton::DerivedSingleton() {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="20" y="250.3789">BaseSingleton::register("DerivedSingleton", this);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="12" y="265.6895">}</text><!--link BaseSingleton to DerivedSingleton--><path d="M474.5,162.843 C474.5,176.395 474.5,189.8597 474.5,201.8653 " fill="none" id="BaseSingleton-DerivedSingleton" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="467.5001,162.3861,474.5,142.3861,481.5001,162.3861,467.5001,162.3861" style="stroke: #A80036; stroke-width: 1.0;"/><!--link NonDerivableSingleton to BaseSingleton--><!--
@startuml
class NonDerivableSingleton {
  {static} -instance : NonDerivableSingleton*
  {static} +getInstance() : NonDerivableSingleton*
  #NonDerivableSingleton()
}
class BaseSingleton {
  {static} -instance : BaseSingleton*
  {static} -registry : Map<String, BaseSingleton*>
  __
  {static} +getInstance() : BaseSingleton*
  #BaseSingleton()
  ..
  {static} #register(String, BaseSingleton*)
  {static} #lookup(String) : BaseSingleton*
}
class DerivedSingleton {
  {static} -instance : DerivedSingleton
  {static} +getInstance() : DerivedSingleton*
  #DerivedSingleton()
}

BaseSingleton <|- - DerivedSingleton
NonDerivableSingleton <-left[hidden]- BaseSingleton

note left of DerivedSingleton
  DerivedSingleton::DerivedSingleton() {
    BaseSingleton::register("DerivedSingleton", this);
  }
end note
@enduml

PlantUML version 1.2019.04(Fri Mar 29 23:44:36 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.14
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>